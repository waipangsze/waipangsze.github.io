

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=light>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="wpsze">
  <meta name="keywords" content="">
  
    <meta name="description" content="Read MPAS | WRF | Extract subset of GFS GRIB files  GFS Wave Model Forecast  These models are based on the 3rd generation wave model WAVEWATCH III using operational NCEP products as input. WAVEWATCH">
<meta property="og:type" content="article">
<meta property="og:title" content="MPAS | WRF | GFS-Wave GRIB files">
<meta property="og:url" content="https://waipangsze.github.io/2025/02/28/MPAS-WRF-GFS-Wave-GRIB-files/index.html">
<meta property="og:site_name" content="wpsze">
<meta property="og:description" content="Read MPAS | WRF | Extract subset of GFS GRIB files  GFS Wave Model Forecast  These models are based on the 3rd generation wave model WAVEWATCH III using operational NCEP products as input. WAVEWATCH">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.imgur.com/s7kzxk9.png">
<meta property="article:published_time" content="2025-02-28T06:56:00.000Z">
<meta property="article:modified_time" content="2025-02-28T09:41:47.328Z">
<meta property="article:author" content="wpsze">
<meta property="article:tag" content="WRF">
<meta property="article:tag" content="MPAS">
<meta property="article:tag" content="NWP">
<meta property="article:tag" content="GFS">
<meta property="article:tag" content="ERA5">
<meta property="article:tag" content="Wave">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://i.imgur.com/s7kzxk9.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>MPAS | WRF | GFS-Wave GRIB files - wpsze</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"waipangsze.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":"F7MK-FcxSomhtc1N3hIUDA"},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  
    <!-- Google tag (gtag.js) -->
    <script async>
      if (!Fluid.ctx.dnt) {
        Fluid.utils.createScript("https://www.googletagmanager.com/gtag/js?id=F7MK-FcxSomhtc1N3hIUDA", function() {
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag('js', new Date());
          gtag('config', 'F7MK-FcxSomhtc1N3hIUDA');
        });
      }
    </script>
  

  

  

  



  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>wpsze</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archives</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>Categories</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tags</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>Links</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/bookmark/" target="_self">
                <i class="iconfont icon-bookmark"></i>
                <span>Bookmarks</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-books"></i>
                <span>Docs</span>
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/categories/Physics/" target="_self">
                    <i class="iconfont icon-plan"></i>
                    <span>Physics</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/categories/Maths/" target="_self">
                    <i class="iconfont icon-plan"></i>
                    <span>Maths</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/categories/CFD/" target="_self">
                    <i class="iconfont icon-plan"></i>
                    <span>CFD</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/categories/ML/" target="_self">
                    <i class="iconfont icon-plan"></i>
                    <span>ML</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/categories/Meteorology/" target="_self">
                    <i class="iconfont icon-plan"></i>
                    <span>Meteorology</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/categories/MPAS/" target="_self">
                    <i class="iconfont icon-plan"></i>
                    <span>MPAS</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/monitor/" target="_self">
                    
                    <span>Real Time Monitoring</span>
                  </a>
                
              </div>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>About Me</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://i.imgur.com/s7kzxk9.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="MPAS | WRF | GFS-Wave GRIB files"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-02-28 14:56" pubdate>
          February 28, 2025 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          606 words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          6 mins
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> views
        </span>
        

      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">MPAS | WRF | GFS-Wave GRIB files</h1>
            
            
              <div class="markdown-body">
                
                <ul>
<li>Read <a href="https://waipangsze.github.io/2025/02/19/MPAS-WRF-Extract-GFS-GRIB-files/"><strong>MPAS | WRF | Extract subset of GFS GRIB files</strong></a></li>
</ul>
<h1 id="gfs-wave-model-forecast">GFS Wave Model Forecast</h1>
<ul>
<li>These models are based on the <strong>3rd generation wave model WAVEWATCH III</strong> using operational NCEP products as input.</li>
<li><a target="_blank" rel="noopener" href="https://polar.ncep.noaa.gov/waves/validation/">WAVEWATCH III® Production Multigrid: July 2013 to present</a>
<ul>
<li>The multigrid production uses the multi-grid spectral wave model WAVEWATCH III® with operational NCEP winds and ice fields as input forcing fields. No wave data assimilation is performed. The model is run four times a day, with all available data. Validation data is available from July 2013 through to the present.</li>
<li>Model output
<ul>
<li>Field output in grib2 format, available every 3 hours
<ul>
<li>.wind. = U-component of 10m wind, V-component of 10m wind (m/s)</li>
<li>.hs. = significant height of combined wind waves and swell (m)</li>
<li>.tp. = primary wave mean period (s)</li>
<li>.dp. = primary wave direction (degrees true, i.e. 0 deg =&gt; coming from North; 90 deg =&gt; coming from East)</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<h2 id="grib2-output-parameters">GRiB2 Output Parameters</h2>
<p>From <a target="_blank" rel="noopener" href="https://polar.ncep.noaa.gov/waves/Model_Description.pdf" class="uri">https://polar.ncep.noaa.gov/waves/Model_Description.pdf</a>,</p>
<ul>
<li>Significant Height of Combined Wind Waves and Swell (HTSGW)</li>
<li>Direction of Combined Wind Waves and Swell (DIRPW)</li>
<li>Mean Period of Combined Wind Waves and Swell (PERPW)</li>
<li>Significant Height of Wind Waves (WVHGT)</li>
<li>Mean Period of Wind Waves (WVPER)</li>
<li>Direction of Wind Waves (WVDIR)</li>
<li>Significant wave height of first swell partition (SWELL: 1 in sequence)</li>
<li>Mean wave period of first swell partition (SWPER: 1 in sequence)</li>
<li>Mean wave direction of first swell partition (SWDIR: 1 in sequence)</li>
<li>Significant wave height of second swell partition (SWELL: 2 in sequence)</li>
<li>Mean wave period of second swell partition (SWPER: 2 in sequence)</li>
<li>Mean wave direction of second swell partition (SWDIR: 2 in sequence)</li>
<li>Significant wave height of third swell partition (SWELL: 3 in sequence)</li>
<li>Mean wave period of third swell partition (SWPER: 3 in sequence)</li>
<li>Mean wave direction of third swell partition (SWDIR: 3 in sequence)</li>
<li>Wind Speed (WIND)</li>
<li>Wind Direction (WDIR)</li>
<li>U-component of wind (UGRD)</li>
<li>V-component of wind (VGRD)</li>
</ul>
<p>The multi_1 deterministic wave model is now unified with the Global Forecast System (GFS). The WAVEWATCH III wave model is one-way coupled with the atmospheric forecast model. The wave model uses three native computational grids:</p>
<ul>
<li>Arctic Polar 9km resolution from 50N to 90N,</li>
<li>Global Core 10min resolution from 15S to 52N and</li>
<li>Southern Ocean 15min resolution from 10.5S to 79.5S.</li>
</ul>
<p>There are <strong>4 post-processed grids</strong>: <strong>West Coast, Eastern Pacific, Atlantic Ocean all with 0.16deg resolution</strong> and <strong>a Global grid with 0.25 deg of resolution</strong>.</p>
<ul>
<li><strong>The unification into GFS allows for an increase in frequency of the wind forcing from 3 hours to 30 minutes</strong>. In addition, <strong>ocean</strong> currents from the <code>RTOFS</code> model are included as input to the wave model. The system runs four cycles per day (00, 06, 12 and 18Z) and the wave forecast has been extended from 180 hours to 384 hours. The wave model produces <strong>hourly forecasts from 000 to 120 hours and every 3 hours from 120 to 384 hrs</strong>.</li>
</ul>
<h1 id="gfs-wave-subset-download">GFS-Wave subset download</h1>
<h2 id="nomads-data-at-ncep">NOMADS Data at NCEP</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://nomads.ncep.noaa.gov/" class="uri">https://nomads.ncep.noaa.gov/</a></li>
<li><a target="_blank" rel="noopener" href="https://nomads.ncep.noaa.gov/gribfilter.php?ds=gfswave" class="uri">https://nomads.ncep.noaa.gov/gribfilter.php?ds=gfswave</a></li>
<li>Example: <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs URL">https://nomads.ncep.noaa.gov/cgi-bin/filter_gfswave.pl?dir=%2Fgfs.20250228%2F00%2Fwave%2Fgridded&amp;file=gfswave.t00z.global.0p16.f048.grib2&amp;var_DIRPW=on&amp;var_HTSGW=on&amp;var_PERPW=on&amp;var_SWDIR=on&amp;var_SWELL=on&amp;var_SWPER=on&amp;var_UGRD=on&amp;var_VGRD=on&amp;var_WDIR=on&amp;var_WIND=on&amp;var_WVDIR=on&amp;var_WVHGT=on&amp;var_WVPER=on&amp;lev_1_in_sequence=on&amp;lev_2_in_sequence=on&amp;lev_3_in_sequence=on&amp;lev_surface=on<br></code></pre></td></tr></table></figure></li>
<li>Dowload script: 
    <div class="fold">
      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-dcdac752" role="button" aria-expanded="false" aria-controls="collapse-dcdac752">
        <div class="fold-arrow">▶</div>download_gfs_wave.sh
      </div>
      <div class="fold-collapse collapse" id="collapse-dcdac752">
        <div class="fold-content">
          <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># define URL</span><br><span class="hljs-comment">#</span><br>workdir=/home/wpsze/mpas/GFS/GFS_Wave/<br>hr=00<br><span class="hljs-comment">#date_st=20240920</span><br>date_st=$(<span class="hljs-built_in">date</span> -d <span class="hljs-string">&quot;today -1 days&quot;</span> +%Y%m%d)<br><br><span class="hljs-comment">#wget </span><br><br><span class="hljs-keyword">for</span> iday <span class="hljs-keyword">in</span> &#123;0..0..1&#125;; <span class="hljs-keyword">do</span><br>    <br>    idate=$(<span class="hljs-built_in">date</span> -d <span class="hljs-string">&quot;<span class="hljs-variable">$date_st</span> + <span class="hljs-variable">$iday</span> days&quot;</span> +%Y%m%d)<br>    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$date_st</span> <span class="hljs-variable">$idate</span><br><span class="hljs-keyword">for</span> fhr <span class="hljs-keyword">in</span> &#123;000..120..1&#125;; <span class="hljs-keyword">do</span><br><span class="hljs-comment">#for fhr in &#123;076..76..1&#125;; do</span><br><br><br>URL=<span class="hljs-string">&quot;https://nomads.ncep.noaa.gov/cgi-bin/filter_gfswave.pl?\</span><br><span class="hljs-string">dir=%2Fgfs.<span class="hljs-variable">$&#123;idate&#125;</span>%2F<span class="hljs-variable">$&#123;hr&#125;</span>%2Fwave%2Fgridded&amp;\</span><br><span class="hljs-string">file=gfswave.t<span class="hljs-variable">$&#123;hr&#125;</span>z.global.0p16.f<span class="hljs-variable">$&#123;fhr&#125;</span>.grib2\</span><br><span class="hljs-string">&amp;var_DIRPW=on&amp;var_HTSGW=on&amp;var_PERPW=on&amp;var_SWDIR=on&amp;\</span><br><span class="hljs-string">var_SWELL=on&amp;var_SWPER=on&amp;var_UGRD=on&amp;var_VGRD=on&amp;\</span><br><span class="hljs-string">var_WDIR=on&amp;var_WIND=on&amp;var_WVDIR=on&amp;var_WVHGT=on&amp;\</span><br><span class="hljs-string">var_WVPER=on&amp;lev_1_in_sequence=on&amp;lev_2_in_sequence=on\</span><br><span class="hljs-string">&amp;lev_3_in_sequence=on&amp;lev_surface=on&quot;</span><br><br>yyyymm=<span class="hljs-variable">$&#123;idate:0:6&#125;</span><br>datapath=<span class="hljs-variable">$workdir</span>/0p25/<span class="hljs-variable">$yyyymm</span>/<span class="hljs-variable">$idate</span>/<br><span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$datapath</span><br><br><span class="hljs-comment"># download file</span><br><span class="hljs-comment">#curl &quot;$URL&quot; -o download_test$fhr.grb</span><br>wget <span class="hljs-string">&quot;<span class="hljs-variable">$URL</span>&quot;</span> -O <span class="hljs-variable">$datapath</span>/gfs.t<span class="hljs-variable">$&#123;hr&#125;</span>z.global.0p16.f<span class="hljs-variable">$&#123;fhr&#125;</span>.grib2<br><span class="hljs-comment"># add a sleep to prevent a denial of service in case of missing file</span><br><span class="hljs-built_in">sleep</span> 3<br><span class="hljs-keyword">done</span><br><span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure>
        </div>
      </div>
    </div></li>
</ul>
<figure>
<img src="https://i.imgur.com/dBuFGe4.png" srcset="/img/loading.gif" lazyload alt="https://nomads.ncep.noaa.gov/gribfilter.php?ds=gfswave" width="600" /><figcaption>https://nomads.ncep.noaa.gov/gribfilter.php?ds=gfswave</figcaption>
</figure>
<h1 id="grib-checking">grib checking</h1>
<ul>
<li><code>grib_ls gfs.t00z.global.0p16.f000.grib2</code> 
    <div class="fold">
      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-6ae3e036" role="button" aria-expanded="false" aria-controls="collapse-6ae3e036">
        <div class="fold-arrow">▶</div>gfs.t00z.global.0p16.f000.grib2
      </div>
      <div class="fold-collapse collapse" id="collapse-6ae3e036">
        <div class="fold-content">
          <figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs console">gfs.t00z.global.0p16.f000.grib2<br>edition      centre       date         dataType     gridType     stepRange    typeOfLevel  level        shortName    packingType  <br>2            kwbc         20250227     fc           regular_ll   0            surface      1            ws           grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            surface      1            wdir         grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            surface      1            u            grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            surface      1            v            grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            surface      1            swh          grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            surface      1            perpw        grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            surface      1            dirpw        grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            surface      1            shww         grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            orderedSequenceData  1            swell        grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            orderedSequenceData  2            swell        grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            orderedSequenceData  3            swell        grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            surface      1            mpww         grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            orderedSequenceData  1            swper        grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            orderedSequenceData  2            swper        grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            orderedSequenceData  3            swper        grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            surface      1            wvdir        grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            orderedSequenceData  1            swdir        grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            orderedSequenceData  2            swdir        grid_jpeg   <br>2            kwbc         20250227     fc           regular_ll   0            orderedSequenceData  3            swdir        grid_jpeg   <br>19 of 19 messages in gfs.t00z.global.0p16.f000.grib2<br><br>19 of 19 total messages in 1 files<br></code></pre></td></tr></table></figure>
        </div>
      </div>
    </div></li>
<li>re-download dataset that only contains surface variables.</li>
<li><code>grib_to_netcdf gfs.t00z.global.0p16.f000.grib2 -o test.nc</code></li>
<li><code>ncvis/ncview test.nc</code></li>
</ul>
<div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://i.imgur.com/lflKrCy.png" srcset="/img/loading.gif" lazyload /></div><div class="group-image-wrap"><img src="https://i.imgur.com/PBF8xwC.png" srcset="/img/loading.gif" lazyload /></div></div></div>
<div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://i.imgur.com/qQ6P9fx.png" srcset="/img/loading.gif" lazyload /></div><div class="group-image-wrap"><img src="https://i.imgur.com/HKGKoVg.png" srcset="/img/loading.gif" lazyload /></div><div class="group-image-wrap"><img src="https://i.imgur.com/5svtQWO.png" srcset="/img/loading.gif" lazyload /></div><div class="group-image-wrap"><img src="https://i.imgur.com/1YftA55.png" srcset="/img/loading.gif" lazyload /></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="https://i.imgur.com/s7kzxk9.png" srcset="/img/loading.gif" lazyload /></div><div class="group-image-wrap"><img src="https://i.imgur.com/qvL4hpP.png" srcset="/img/loading.gif" lazyload /></div><div class="group-image-wrap"><img src="https://i.imgur.com/Y0gEygu.png" srcset="/img/loading.gif" lazyload /></div></div></div>
<h1 id="reading">Reading</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.hko.gov.hk/hko/publica/reprint/r136.pdf">兩個海波數值模式的比較 | HKO</a></li>
<li><a target="_blank" rel="noopener" href="https://photino.cwa.gov.tw/rdcweb/lib/cd/cd01conf/dissertation/1994%20Sea/11.pdf">WAM 模式之評介 | 交通部中央氣象署</a></li>
<li><a target="_blank" rel="noopener" href="https://www.comc.ncku.edu.tw/wordpress/wp-content/uploads/2023/02/100%E5%B9%B4%E5%BA%A6-%E5%8F%B0%E7%81%A3%E6%B5%B7%E5%9F%9F%E4%BD%9C%E6%A5%AD%E5%8C%96WAVEWATCH-III%E6%B9%A7%E6%B5%AA%E6%95%B8%E5%80%BC%E9%A0%90%E5%A0%B1%E5%BB%BA%E7%BD%AE.pdf">台灣海域作業化 WAVEWATCH III 湧浪數值預報建置 | 2011</a>
<ul>
<li><img src="https://i.imgur.com/esFWqXd.png" srcset="/img/loading.gif" lazyload width="500" /></li>
</ul></li>
</ul>
<h1 id="literature-review">Literature review</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://journals.ametsoc.org/downloadpdf/view/journals/phoc/49/2/jpo-d-18-0137.1.pdf">Liu, Qingxiang, et al. "Observation-based source terms in the third-generation wave model WAVEWATCH III: Updates and verification." Journal of Physical Oceanography 49.2 (2019): 489-517.</a></li>
<li><a target="_blank" rel="noopener" href="https://html.rhhz.net/ZGHYDXXBZRKXB/html/a972b1fe-e8d2-4f30-aa37-0d825e44073e.htm">曹赛超, 高志一, 赵栋梁. WAVEWATCH Ⅲ第三代海浪数值模式在中国东海的应用和改进[J]. 中国海洋大学学报(自然科学版), 2023, 53(8): 8-15.</a></li>
<li><a target="_blank" rel="noopener" href="https://www.airitilibrary.com/Article/Detail/P20231229001-N202411060008-00006">林幼淳、林鼎傑、許泰文（2024）。以數值模式為基礎探討颱風季的波浪潛能。海岸及海洋工程學刊，20(1&amp;2)，75-84。https://doi.org/10.6266/JOCOE.202411_20(1_2).0006</a></li>
<li><a target="_blank" rel="noopener" href="https://www.comc.ncku.edu.tw/wordpress/wp-content/uploads/2023/02/106%E5%B9%B4%E5%BA%A6-WAVEWATCH-III-%E5%A4%9A%E9%87%8D%E7%B6%B2%E6%A0%BC%E6%A8%A1%E5%BC%8F%E6%87%89%E7%94%A8%E6%96%BC%E9%A2%B1%E9%A2%A8%E6%B3%A2%E6%B5%AA%E6%8E%A8%E7%AE%97%E4%B9%8B%E7%A0%94%E7%A9%B6.pdf">WAVEWATCH III 多重網格模式應用於颱風波浪推算之研究 | 2017</a></li>
</ul>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/MPAS/" class="category-chain-item">MPAS</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/WRF/" class="print-no-link">#WRF</a>
      
        <a href="/tags/MPAS/" class="print-no-link">#MPAS</a>
      
        <a href="/tags/NWP/" class="print-no-link">#NWP</a>
      
        <a href="/tags/GFS/" class="print-no-link">#GFS</a>
      
        <a href="/tags/ERA5/" class="print-no-link">#ERA5</a>
      
        <a href="/tags/Wave/" class="print-no-link">#Wave</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>MPAS | WRF | GFS-Wave GRIB files</div>
      <div>https://waipangsze.github.io/2025/02/28/MPAS-WRF-GFS-Wave-GRIB-files/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>wpsze</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>February 28, 2025</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Updated on</div>
          <div>February 28, 2025</div>
        </div>
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/03/06/Relative-Humidity-and-the-Dewpoint-Temperature/" title="Relative Humidity and the Dewpoint Temperature">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Relative Humidity and the Dewpoint Temperature</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/02/27/MPAS-MPAS-CMAQ-US-EPA/" title="MPAS | MPAS-CMAQ | US EPA">
                        <span class="hidden-mobile">MPAS | MPAS-CMAQ | US EPA</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  





  <script>
  Fluid.utils.createScript('https://lib.baomitu.com/mermaid/8.14.0/mermaid.min.js', function() {
    mermaid.initialize({"theme":"default"});

    Fluid.utils.listenDOMLoaded(function() {
      Fluid.events.registerRefreshCallback(function() {
        if ('mermaid' in window) {
          mermaid.init();
        }
      });
    });
  });
</script>






<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9HL36SZ28R"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9HL36SZ28R');
</script>

    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">

  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  

  <span id="sitetime"></span>
  <script language=javascript>
    function siteTime(){
      window.setTimeout("siteTime()", 1000);
      var seconds = 1000;
      var minutes = seconds * 60;
      var hours = minutes * 60;
      var days = hours * 24;
      var years = days * 365;
      var today = new Date();
      var todayYear = today.getFullYear();
      var todayMonth = today.getMonth()+1;
      var todayDate = today.getDate();
      var todayHour = today.getHours();
      var todayMinute = today.getMinutes();
      var todaySecond = today.getSeconds();
      /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
      year - 作为date对象的年份，为4位年份值
      month - 0-11之间的整数，做为date对象的月份
      day - 1-31之间的整数，做为date对象的天数
      hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
      minutes - 0-59之间的整数，做为date对象的分钟数
      seconds - 0-59之间的整数，做为date对象的秒数
      microseconds - 0-999之间的整数，做为date对象的毫秒数 */
      var t1 = Date.UTC(2023,04,23,00,00,00); //北京时间2018-2-13 00:00:00
      var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
      var diff = t2-t1;
      var diffYears = Math.floor(diff/years);
      var diffDays = Math.floor((diff/days)-diffYears*365);
      var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
      var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
      var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);
      /*document.getElementById("sitetime").innerHTML=" 已运行"+/*diffYears+" 年 "+*/diffDays+" 天 "+diffHours+" 小时 "+diffMinutes+" 分钟 "+diffSeconds+" 秒";
      document.getElementById("sitetime").innerHTML=" 已運行"+diffYears+" 年 "+diffDays+" 天 ";
    }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
  </script>
  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
